@model InsuranceApp.Models.Partner

<div class="container-fluid">
    <!-- Quick Stats Row -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card border-0 bg-primary text-white">
                <div class="card-body text-center">
                    <i class="fas fa-user-circle fa-2x mb-2"></i>
                    <h6 class="mb-0">Partner Type</h6>
                    <h5 class="mb-0">@Model.PartnerTypeId.ToString()</h5>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 bg-success text-white">
                <div class="card-body text-center">
                    <i class="fas fa-file-contract fa-2x mb-2"></i>
                    <h6 class="mb-0">Total Policies</h6>
                    <h5 class="mb-0">@Model.PolicyCount</h5>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 bg-info text-white">
                <div class="card-body text-center">
                    <i class="fas fa-euro-sign fa-2x mb-2"></i>
                    <h6 class="mb-0">Total Amount</h6>
                    <h5 class="mb-0">@Model.TotalPolicyAmount.ToString("C")</h5>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 @(Model.IsForeign ? "bg-warning" : "bg-secondary") text-white">
                <div class="card-body text-center">
                    <i class="fas fa-globe fa-2x mb-2"></i>
                    <h6 class="mb-0">Status</h6>
                    <h5 class="mb-0">@(Model.IsForeign ? "Foreign" : "Domestic")</h5>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Personal Information -->
        <div class="col-md-6 mb-4">
            <h6 class="text-muted mb-3"><i class="fas fa-user mr-2"></i>Personal Information</h6>
            
            <div class="info-box mb-3">
                <div class="info-label"><i class="fas fa-user-circle mr-2"></i>Full Name</div>
                <div class="info-value">@Model.FullName</div>
            </div>

            <div class="info-box mb-3">
                <div class="info-label"><i class="fas fa-venus-mars mr-2"></i>Gender</div>
                <div class="info-value">@Model.Gender.ToString()</div>
            </div>

            <div class="info-box mb-3">
                <div class="info-label"><i class="fas fa-map-marker-alt mr-2"></i>Address</div>
                <div class="info-value">@(Model.Address ?? "-")</div>
            </div>

            <div class="info-box mb-3">
                <div class="info-label"><i class="fas fa-envelope mr-2"></i>Created By</div>
                <div class="info-value">@Model.CreateByUser</div>
            </div>

            <div class="info-box">
                <div class="info-label"><i class="fas fa-calendar-plus mr-2"></i>Created At</div>
                <div class="info-value">@Model.CreatedAtUtc.ToString("MMM dd, yyyy 'at' HH:mm")</div>
            </div>
        </div>

        <!-- Partner Details -->
        <div class="col-md-6 mb-4">
            <h6 class="text-muted mb-3"><i class="fas fa-id-card mr-2"></i>Partner Details</h6>
            
            <div class="info-box mb-3">
                <div class="info-label"><i class="fas fa-hashtag mr-2"></i>Partner Number</div>
                <div class="info-value"><code>@Model.PartnerNumber</code></div>
            </div>

            <div class="info-box mb-3">
                <div class="info-label"><i class="fas fa-fingerprint mr-2"></i>Croatian PIN</div>
                <div class="info-value"><code>@(Model.CroatianPIN ?? "-")</code></div>
            </div>

            <div class="info-box mb-3">
                <div class="info-label"><i class="fas fa-barcode mr-2"></i>External Code</div>
                <div class="info-value"><code>@Model.ExternalCode</code></div>
            </div>

            <div class="info-box mb-3">
                <div class="info-label"><i class="fas fa-building mr-2"></i>Partner Type</div>
                <div class="info-value">
                    @if (Model.PartnerTypeId.ToString() == "Individual")
                    {
                        <span class="badge badge-primary">Individual</span>
                    }
                    else
                    {
                        <span class="badge badge-info">Company</span>
                    }
                </div>
            </div>

            <div class="info-box">
                <div class="info-label"><i class="fas fa-globe mr-2"></i>Foreign Status</div>
                <div class="info-value">
                    @if (Model.IsForeign)
                    {
                        <span class="badge badge-warning">Foreign</span>
                    }
                    else
                    {
                        <span class="badge badge-success">Domestic</span>
                    }
                </div>
            </div>
        </div>
    </div>

    <!-- Policies Section -->
    <div class="row">
        <div class="col-12">
            <h6 class="text-muted mb-3">
                <i class="fas fa-file-contract mr-2"></i>Policies 
                <span class="badge badge-primary">@Model.Policies.Count</span>
            </h6>
            
            @if (Model.Policies.Any())
            {
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead class="thead-light">
                            <tr>
                                <th><i class="fas fa-hashtag mr-2"></i>Policy Number</th>
                                <th class="text-right"><i class="fas fa-euro-sign mr-2"></i>Amount</th>
                                <th><i class="fas fa-calendar mr-2"></i>Created At</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var policy in Model.Policies.OrderByDescending(p => p.CreatedAtUtc))
                            {
                                <tr>
                                    <td><code>@policy.PolicyNumber</code></td>
                                    <td class="text-right"><strong>@policy.Amount.ToString("C")</strong></td>
                                    <td>@policy.CreatedAtUtc.ToString("MMM dd, yyyy 'at' HH:mm")</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
            else
            {
                <div class="alert alert-info text-center">
                    <i class="fas fa-info-circle mr-2"></i>No policies found for this partner.
                </div>
            }
        </div>
    </div>
</div>